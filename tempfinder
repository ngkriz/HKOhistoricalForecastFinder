#setup dictionary in separate runtime
datetemp={'Forecast Issue time':{}}






#request the file from the url
url = 'https://www.info.gov.hk/gia/wr/201908/28/P2019082800620.htm'
data = requests.get(url)






def tempfinder():
    messtext=data.text


    forecastat = messtext.split('DISPATCHED BY HONG KONG OBSERVATORY ')[1].lstrip().split('<br>')[0]

    datetemp[forecastat]={}


    
    for j in range (0,9):
        if j==0:
            pass
        else:
            datefinder = messtext.split('DATE/MONTH')[j].lstrip().split('(')[0]

            minmaxtemp = messtext.split('TEMP RANGE:')[j].lstrip().split('C')[0]
        
            datetemp[forecastat][datefinder]=minmaxtemp

    print(forecastat)
    print (datetemp)





#load the function
tempfinder()




#load the dict
datetemp




#view as DataFrame
import pandas as pd
dt=pd.DataFrame(datetemp)
dt
